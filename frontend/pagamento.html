<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finalizar Doação - Doe Alimentos</title>
    <link rel="stylesheet" href="./css/pagamento.css">
</head>
<body>
    <div class="container">
        <h1>Finalizar Doação</h1>
        <p>Complete os dados abaixo para finalizar sua doação para a instituição.</p>

        <!-- Resumo da Doação -->
        <div class="resumo-doacao">
            <h3>Resumo da Doação</h3>
            <div id="itens-doacao">
                <!-- Itens serão carregados aqui -->
            </div>
            <div class="resumo-total">
                <div class="resumo-item">
                    <span>Total da Doação:</span>
                    <span id="total-doacao">R$ 0,00</span>
                </div>
            </div>
        </div>

        <!-- Formulário de Pagamento -->
        <form id="pagamentoForm">
            <div class="input-group">
                <label for="nome">Nome Completo *</label>
                <input type="text" id="nome" name="nome" required>
                <div class="error-message" id="erro-nome"></div>
            </div>

            <div class="input-group">
                <label for="email">E-mail *</label>
                <input type="email" id="email" name="email" required>
                <div class="error-message" id="erro-email"></div>
            </div>

            <div class="input-group">
                <label for="cpf">CPF *</label>
                <input type="text" id="cpf" name="cpf" required placeholder="000.000.000-00">
                <div class="error-message" id="erro-cpf"></div>
            </div>

            <div class="input-group">
                <label for="telefone">Telefone</label>
                <input type="text" id="telefone" name="telefone" placeholder="(11) 99999-9999">
            </div>

            <div class="input-group">
                <label for="metodo">Método de Pagamento *</label>
                <select id="metodo" name="metodo" required>
                    <option value="">Selecione o método</option>
                    <option value="pix">PIX</option>
                    <option value="cartao">Cartão de Crédito</option>
                    <option value="boleto">Boleto Bancário</option>
                </select>
            </div>

            <!-- Detalhes específicos do método de pagamento -->
            <div id="detalhes-pix" class="metodo-detalhes">
                <h4>Pagamento via PIX</h4>
                <div class="qr-code">
                    <div class="qr-placeholder">QR Code PIX</div>
                    <p>Escaneie o QR Code acima ou copie o código PIX:</p>
                    <div class="codigo-pix" id="codigo-pix-gerado">
                        <!-- Código PIX será gerado aqui -->
                    </div>
                    <button type="button" onclick="copiarCodigoPix()">Copiar Código PIX</button>
                </div>
            </div>

            <div id="detalhes-cartao" class="metodo-detalhes">
                <h4>Dados do Cartão</h4>
                <div class="input-group">
                    <label for="numero-cartao">Número do Cartão</label>
                    <input type="text" id="numero-cartao" placeholder="0000 0000 0000 0000">
                </div>
                <div style="display: flex; gap: 15px;">
                    <div class="input-group" style="flex: 1;">
                        <label for="validade">Validade</label>
                        <input type="text" id="validade" placeholder="MM/AA">
                    </div>
                    <div class="input-group" style="flex: 1;">
                        <label for="cvv">CVV</label>
                        <input type="text" id="cvv" placeholder="000">
                    </div>
                </div>
            </div>

            <div id="detalhes-boleto" class="metodo-detalhes">
                <h4>Boleto Bancário</h4>
                <p>Após confirmar, você receberá o boleto por e-mail. O prazo de vencimento é de 3 dias úteis.</p>
            </div>

            <!-- Loading -->
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>Processando pagamento...</p>
            </div>

            <button type="submit" id="btn-confirmar">Confirmar Doação</button>
            <button type="button" onclick="cancelarPagamento()" class="cancelar">Cancelar</button>
        </form>
    </div>

    <script src="./js/pagamento.js"></script>
</body>
</html>